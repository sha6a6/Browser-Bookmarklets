javascript:(function(){var saveBtn=document.querySelector('button[aria-label*="Save"]:not([aria-label*="Download"]), #top-level-buttons button[aria-label*="Save"]:not([aria-label*="Download"])');if(saveBtn&&saveBtn.offsetParent!==null){saveBtn.click();setTimeout(function(){var watchLaterOptions=document.querySelectorAll('ytd-playlist-add-to-option-renderer');var found=false;for(var i=0;i<watchLaterOptions.length;i++){var option=watchLaterOptions[i];var text=option.textContent||option.innerText;if(text.includes('Watch later')){var checkbox=option.querySelector('tp-yt-paper-checkbox');var isChecked=checkbox&&(checkbox.hasAttribute('checked')||checkbox.getAttribute('aria-checked')==='true'||option.hasAttribute('selected'));if(isChecked){checkbox.click();found=true;setTimeout(function(){document.dispatchEvent(new KeyboardEvent('keydown',{key:'Escape',keyCode:27,which:27}));},1200);break;}}}if(!found){document.dispatchEvent(new KeyboardEvent('keydown',{key:'Escape',keyCode:27,which:27}));}},1000);}else{var menu=document.querySelector('#menu button[aria-label="More actions"], #top-row #menu button[aria-label="More actions"]');if(menu){menu.click();setTimeout(function(){var saveInMenu=document.querySelectorAll('tp-yt-paper-listbox ytd-menu-service-item-renderer, ytd-menu-popup-renderer ytd-menu-service-item-renderer');var saveFound=false;for(var i=0;i<saveInMenu.length;i++){var menuText=saveInMenu[i].textContent||saveInMenu[i].innerText;if(menuText.includes('Save')&&!menuText.includes('Download')){saveInMenu[i].click();saveFound=true;setTimeout(function(){var watchLaterOptions=document.querySelectorAll('ytd-playlist-add-to-option-renderer');var found=false;for(var j=0;j<watchLaterOptions.length;j++){var option=watchLaterOptions[j];var text=option.textContent||option.innerText;if(text.includes('Watch later')){var checkbox=option.querySelector('tp-yt-paper-checkbox');var isChecked=checkbox&&(checkbox.hasAttribute('checked')||checkbox.getAttribute('aria-checked')==='true'||option.hasAttribute('selected'));if(isChecked){checkbox.click();found=true;setTimeout(function(){document.dispatchEvent(new KeyboardEvent('keydown',{key:'Escape',keyCode:27,which:27}));},1200);break;}}}if(!found){document.dispatchEvent(new KeyboardEvent('keydown',{key:'Escape',keyCode:27,which:27}));}},1000);break;}}if(!saveFound){document.dispatchEvent(new KeyboardEvent('keydown',{key:'Escape',keyCode:27,which:27}));}},800);}}})();
